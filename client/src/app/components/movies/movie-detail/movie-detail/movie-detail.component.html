<!-- <p>{{movie.title}}</p> -->
<div class="container-fluid" *ngIf="movie">
    <div class="row"
        style="background-image: url({{imageUrl}}{{movie.backdropPath}}); background-repeat: no-repeat; background-size: cover;">
        <div class="col-4" style="width: 22rem;">
            <div class="m-2 my-4">
                <div class="card shadow rounded-4 border border-4">
                    <img src="{{imageUrl}}{{movie.posterPath}}" class="rounded-4" alt="" />
                </div>
            </div>
        </div>
        <div class="col-8 ">
            <div class="m-2 mb-4">
                <div class="card shadow rounded-4 p-3 border-0 bg-darkblue text-white">
                    <div class="card-title h2">
                        <span class="fw-bold">{{movie.title}}</span>
                        <span class="text-muted"> ({{movie.releaseDate | date: 'YYYY'}})</span>
                    </div>
                    <div class="d-flex d-inline">
                        <span>{{movie.releaseDate | date: 'dd/MM/YYYY'}} </span> &nbsp; •&nbsp;
                        <div *ngFor="let genre of movie.genres; let last=last">
                            <span>{{genre.name}}</span>
                            <ng-container *ngIf="!last">, </ng-container>&nbsp;
                        </div> •&nbsp;
                        <span>{{ convertMinutesToTime(movie.runtime) }}</span>
                    </div>
                    <div class="d-flex d-inline mt-4 justify-content-left align-items-center">
                        <div class="card bg-darkblue text-white rounded-circle border-0 p-2 me-3">
                            <i class="fa fa-user fa-1x"></i>
                        </div>
                        <div class="card bg-darkblue text-white rounded-circle border-0 p-2 me-3">
                            <i class="fa fa-list fa-1x"></i>
                        </div>
                        <div class="card bg-darkblue text-white rounded-circle border-0 p-2 me-3">
                            <i class="fa fa-heart fa-1x"></i>
                        </div>
                        <div class="card bg-darkblue text-white rounded-circle border-0 p-2 me-3">
                            <i class="fa fa-bookmark fa-1x"></i>
                        </div>
                        <div class="card bg-darkblue text-white rounded-circle border-0 p-2 me-3">
                            <i class="fa fa-star fa-1x"></i>
                        </div>
                        <div class="card text-dark rounded-circle border-0 p-2 me-3">
                            <div class="fw-bold">
                                <i class="fa fa-play fa-1x"></i> <span> Play Trailer </span>
                            </div>
                        </div>
                    </div>
                    <div class="my-3">
                        <span class="h5 fst-italic text-muted"> {{movie.tagline}} </span>
                    </div>
                    <div>
                        <div class="h5 fw-bold">Overview</div>
                        <p>{{movie.overview}}</p>
                    </div>
                    <div class="my-3">
                        <div class="col-md-12">
                            <div class="scrollable-container">
                                <div class="d-flex" *ngFor="let crew of movie.credits.crew">
                                    <div class="col-md-4" *ngIf="crew.job === 'Characters'">
                                        <div class="fw-bold">{{crew.name}}</div>
                                        <p>Characters</p>
                                    </div>
                                    <div class="col-md-4" *ngIf="crew.job === 'Director'">
                                        <div class="fw-bold">{{crew.name}}</div>
                                        <p>Director</p>
                                    </div>
                                    <div class="col-md-4" *ngIf="crew.job === 'Writer'">
                                        <div class="fw-bold">{{crew.name}}</div>
                                        <p>Writer</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-8">
            <!-- TOP CAST BILLED -->
            <div class="container-fluid">
                <div class="p-2">
                    <h4>Top Billed Cast</h4>
                    <div class="scrollable-container">
                        <div class="scrollable-row" *ngIf="movie.credits">
                            <div class="col" *ngFor="let cast of movie.credits.cast">
                                <div *ngIf="cast.profilePath">
                                    <a>
                                        <div class="m-2 mb-4" style="width: 12rem">
                                            <div class="card rounded-3 shadow border-0">
                                                <img src="{{imageUrl}}{{cast.profilePath}}" class="rounded-top"
                                                    alt="" />
                                                <div class="p-2">
                                                    <div class="fw-bold h5">{{cast.character}}</div>
                                                    <p class="text-muted">{{cast.name}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                            <a>
                                <div class="m-2 mb-4" style="width: 12rem">
                                    <div class="">
                                        <div class="p-2 d-flex justify-content-center">
                                            <a class="h4 text-dark" style="text-decoration: none;" routerLink="casts"
                                                routerLinkActive="active">View More ---</a>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="p-2 mt-3">
                    <a class="h4 reviews" style="text-decoration: none;" routerLink="casts"
                        routerLinkActive="active">Full Cast & Crew</a>
                </div>
            </div>
            <hr />
            <!-- SOCIAL -->
            <div class="container-fluid">
                <div class="col-12">
                    <div class="p-2">
                        <a class="reviews" routerLink="/reviews" routerLinkActive="active">
                            <h4> Social Reviews
                                <span class="badge bg-dark text-white">Total Reviews </span>
                                <span class="text-muted fw-bold"> {{movie.reviews.totalResults}} </span>
                            </h4>
                        </a>
                        <div class="tab-body p-3">
                            <div class="card shadow border-0 rounded">
                                <div class="row">
                                    <div class="col-2 m-2">
                                        <img src="{{getReviewerAvatarUrl(movie.reviews['results'][1].authorDetails.avatarPath)}}"
                                            class="rounded-circle" style="width: 6rem;height: 6rem;" alt="">
                                    </div>
                                    <div class="col m-3">
                                        <div class="d-flex">
                                            <h5 class="fw-bold">A review by
                                                {{movie.reviews['results'][1].author}} </h5>
                                            <span *ngIf="movie.reviews['results'][1]['authorDetails'].rating"
                                                class="badge bg-dark text-white d-flex justify-content-center align-items-center ms-2 fw-bold">
                                                <i class="fa fa-star me-1"></i>
                                                {{movie.reviews['results'][1].authorDetails.rating}}
                                            </span>
                                        </div>
                                        <p class="text-muted">Written by {{movie.reviews['results'][1].author}}
                                            on {{getReviewDate(movie.reviews['results'][1].content)| date:
                                            'MMM dd, YYYY'}} </p>
                                        <div class="review-body">
                                            <div class="my-3">
                                                <div class="col-md-12">
                                                    <div class="scrollable-container">
                                                        <p>
                                                            {{movie.reviews['results'][1].content}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="p-2 mt-3">
                    <a class="h4 reviews" style="text-decoration: none;" routerLink="casts"
                        routerLinkActive="active">Read All Reviews</a>
                </div>
            </div>
            <hr />
            <!-- Media Section -->
            <app-media-movie-detail [videos]="movie.videos['results']" [images]="movie.images"></app-media-movie-detail>
        </div>
        <div class="col-md-4">Social Media</div>
    </div>
</div>

<app-footer-home></app-footer-home>